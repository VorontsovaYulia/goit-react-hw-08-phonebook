"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[382],{8382:function(n,e,r){r.r(e),r.d(e,{default:function(){return W}});var t,a,i=r(7762),o=r(6727),s=r(9434),l=r(5218),c=r(5705),d=r(971),u=r(4294),m=r(168),x=r(6487),h=(0,x.zo)(c.l0)(t||(t=(0,m.Z)(["\n       display: flex;\n    flex-wrap: wrap;\n    gap: 16px;\n    flex-direction: column;\n    align-items: flex-end;\n    padding: 20px 0;\n    align-content: space-around;\n"]))),f=x.zo.label(a||(a=(0,m.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n"]))),p=r(3634),j=r(184),b=function(){var n=o.Ry().shape({name:o.Z_().min(3,"Too Short!").max(30,"Too Long!").matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0404\u0454\u0406\u0456\u0407\u0457\u0490\u0491\s]+$/,"Use only letters").required("Required"),number:o.Z_().required("Required").matches(/^\+?\d{2} ?-?\(?\d{3}\)? ?-?\d{3} ?-?\d{2} ?-?\d{2}$/,"Intenational format number(12 symbol)")}),e=(0,s.I0)(),r=(0,s.v9)((function(n){return n.contacts.items}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.J9,{validationSchema:n,initialValues:{name:"",number:""},onSubmit:function(n,t){var a,o=(0,i.Z)(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.name===n.name)return l.ZP.error("".concat(s.name," is already in contacts."))}}catch(c){o.e(c)}finally{o.f()}e((0,p.uK)({name:n.name,number:n.number})),t.resetForm()},children:(0,j.jsxs)(h,{children:[(0,j.jsx)(f,{children:(0,j.jsx)(c.gN,{component:d.n,label:"Name",name:"name",variant:"standard",sx:{width:400}})}),(0,j.jsx)(f,{children:(0,j.jsx)(c.gN,{component:d.n,label:"Number",name:"number",variant:"standard",type:"string",sx:{width:400}})}),(0,j.jsx)(u.Z,{variant:"contained",type:"submit",children:"Add contact"})]})}),(0,j.jsx)(l.x7,{position:"top-right"})]})},Z=r(2791),g=r(9836),v=r(3382),w=r(9281),y=r(5855),k=r(5527),C=r(4554),S=r(7482),T=r(9439),_=r(3994),z=r(890),F=r(237),I=r(9264),q=r(383),L=r(1889),N=r(645),D=r(3044),P=function(n){var e=n.item,r=e.name,t=e.number,a=e.id,i=(0,Z.useState)(!1),o=(0,T.Z)(i,2),l=o[0],c=o[1],d=(0,s.I0)(),m=function(){return c(!1)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{component:"th",scope:"row",children:(0,j.jsx)(D.Z,{src:"/broken-image.jpg",sx:{backgroundColor:"#1976d2",margin:"0 auto"}})}),(0,j.jsx)(_.Z,{align:"center",children:r}),(0,j.jsx)(_.Z,{align:"center",children:t}),(0,j.jsx)(_.Z,{align:"center",children:(0,j.jsx)(L.ZP,{item:!0,xs:8,children:(0,j.jsx)(N.Z,{cursor:"pointer",onClick:function(n){return c(!0)}})})}),(0,j.jsx)(_.Z,{align:"center",children:(0,j.jsx)(L.ZP,{item:!0,xs:8,children:(0,j.jsx)(q.Z,{cursor:"pointer",onClick:function(){return d((0,p.GK)(a))}})})}),(0,j.jsx)(F.Z,{open:l,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(C.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,j.jsx)(z.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Edit Contact"}),(0,j.jsxs)(C.Z,{component:"form",onSubmit:function(n){n.preventDefault(),console.dir(n.currentTarget);var e=new FormData(n.currentTarget),r={id:a,contact:{name:e.get("name"),number:e.get("number")}};console.log(r),d((0,p.Tk)(r)),m()},children:[(0,j.jsx)(I.Z,{id:"standard-basic",name:"name",variant:"standard",defaultValue:r}),(0,j.jsx)(I.Z,{id:"standard-basic",name:"number",variant:"standard",defaultValue:t}),(0,j.jsx)(u.Z,{type:"submit",children:"Done"})]}),(0,j.jsx)(z.Z,{id:"modal-modal-description",sx:{mt:2}})]})})]})},R=function(n){return n.contacts.items},V=function(n){return n.filter},A=function(){var n=(0,s.v9)(R),e=(0,s.v9)(V),r=n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})),t=(0,s.I0)(),a=(0,s.v9)((function(n){return n.contacts.isLoading}));return(0,Z.useEffect)((function(){t((0,p.yF)())}),[t]),a?(0,j.jsx)(C.Z,{sx:{width:"100%",marginTop:4},children:(0,j.jsx)(S.Z,{})}):(0,j.jsx)("div",{children:(0,j.jsx)(w.Z,{component:k.Z,children:(0,j.jsx)(g.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,j.jsx)(v.Z,{children:r.map((function(n){return(0,j.jsx)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:(0,j.jsx)(P,{item:n})},n.id)}))})})})})},E=r(4808),K=function(){var n=(0,s.I0)();return(0,j.jsx)("div",{children:(0,j.jsx)(I.Z,{label:"Search contact",id:"filled-size-small",variant:"filled",size:"small",onChange:function(e){return n((0,E.W)(e.currentTarget.value))},name:"filter"})})},W=function(){var n=(0,s.v9)((function(n){return n.contacts.items}));return(0,j.jsxs)("div",{children:[(0,j.jsx)(b,{}),n.length>0&&(0,j.jsx)(K,{}),(0,j.jsx)(A,{})]})}}}]);
//# sourceMappingURL=382.9e13562b.chunk.js.map